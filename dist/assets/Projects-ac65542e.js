import{r as N,j as b,a as T,g as $,F as ye}from"./index-242ca218.js";const ve=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState(null);return N.useEffect(()=>{(async()=>{try{const i=await fetch("https://ply-collab.vercel.app/api/projects");if(!i.ok)throw new Error("Failed to fetch project data");const c=await i.json();t(c)}catch(i){console.error("Error fetching project data:",i),a(i.message||"Failed to load project data. Please try again later.")}finally{n(!1)}})()},[]),r?b("div",{className:"text-center",children:"Loading projects..."}):s?b("div",{className:"text-red-500 text-center",children:s}):b("section",{className:"py-20 relative",id:"projects",children:T("div",{className:"container mx-auto px-4 relative z-10",children:[T("h2",{className:"text-3xl font-bold mb-12 text-center",children:["Our ",b("span",{className:"text-neon-green",children:"Projects"})]}),b("div",{className:"grid md:grid-cols-3 gap-8",children:e.map(o=>T("div",{className:"rounded-lg glass overflow-hidden group",children:[b("img",{src:o.image,alt:`Screenshot of ${o.title}`,className:"w-full h-48 object-cover"}),T("div",{className:"p-6",children:[b("h3",{className:"text-xl font-bold mb-2",children:o.title}),b("p",{className:"text-text-secondary mb-4",children:o.description}),T("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",className:"text-neon-green hover:underline",children:["View details about ",o.title]})]})]},o.id))})]})})};function _e(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return!0;if(typeof process<"u"){const e=process.type;return e==="renderer"||e==="worker"?!1:!!(process.versions&&process.versions.node)}return!1}const we={toWeb(){throw new Error("Vercel Blob: Sorry, we cannot get a Readable stream in this environment. If you see this message please open an issue here: https://github.com/vercel/storage/ with details on your environment.")}};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var xe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const Te=$(xe);var re={};function E(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Ee=E;E.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};E.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};E.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};E.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};E.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};E.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};E.prototype.start=E.prototype.try;E.prototype.errors=function(){return this._errors};E.prototype.attempts=function(){return this._attempts};E.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var s=this._errors[n],a=s.message,o=(e[a]||0)+1;e[a]=o,o>=r&&(t=s,r=o)}return t};(function(e){var t=Ee;e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var s in r)n[s]=r[s];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<n.retries;o++)a.push(this.createTimeout(o,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(o,n)),a.sort(function(i,c){return i-c}),a},e.createTimeout=function(r,n){var s=n.randomize?Math.random()+1:1,a=Math.round(s*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},e.wrap=function(r,n,s){if(n instanceof Array&&(s=n,n=null),!s){s=[];for(var a in r)typeof r[a]=="function"&&s.push(a)}for(var o=0;o<s.length;o++){var i=s[o],c=r[i];r[i]=(function(l){var m=e.operation(n),y=Array.prototype.slice.call(arguments,1),h=y.pop();y.push(function(d){m.retry(d)||(d&&(arguments[0]=m.mainError()),h.apply(this,arguments))}),m.attempt(function(){l.apply(r,y)})}).bind(r,c),r[i].options=n}}})(re);var Re=re,Be=Re;function Pe(e,t){function r(n,s){var a=t||{},o;"randomize"in a||(a.randomize=!0),o=Be.operation(a);function i(l){s(l||new Error("Aborted"))}function c(l,m){if(l.bail){i(l);return}o.retry(l)?a.onRetry&&a.onRetry(l,m):s(o.mainError())}function u(l){var m;try{m=e(i,l)}catch(y){c(y,l);return}Promise.resolve(m).then(n).catch(function(h){c(h,l)})}o.attempt(u)}return new Promise(r)}var Ne=Pe;const Se=$(Ne),ne=globalThis.fetch.bind(globalThis);var q={exports:{}};/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */q.exports=Ue;q.exports.format=oe;q.exports.parse=ae;var Le=/\B(?=(\d{3})+(?!\d))/g,ke=/(?:\.0*|(\.[^0]+)0+)$/,k={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},Ae=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function Ue(e,t){return typeof e=="string"?ae(e):typeof e=="number"?oe(e,t):null}function oe(e,t){if(!Number.isFinite(e))return null;var r=Math.abs(e),n=t&&t.thousandsSeparator||"",s=t&&t.unitSeparator||"",a=t&&t.decimalPlaces!==void 0?t.decimalPlaces:2,o=!!(t&&t.fixedDecimals),i=t&&t.unit||"";(!i||!k[i.toLowerCase()])&&(r>=k.pb?i="PB":r>=k.tb?i="TB":r>=k.gb?i="GB":r>=k.mb?i="MB":r>=k.kb?i="KB":i="B");var c=e/k[i.toLowerCase()],u=c.toFixed(a);return o||(u=u.replace(ke,"$1")),n&&(u=u.split(".").map(function(l,m){return m===0?l.replace(Le,n):l}).join(".")),u+s+i}function ae(e){if(typeof e=="number"&&!isNaN(e))return e;if(typeof e!="string")return null;var t=Ae.exec(e),r,n="b";return t?(r=parseFloat(t[1]),n=t[4].toLowerCase()):(r=parseInt(e,10),n="b"),isNaN(r)?null:Math.floor(k[n]*r)}var Ce=q.exports;const x=$(Ce);function Ie(e,t){if(typeof e!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let r,n=0;return function(...a){clearTimeout(r);const o=Date.now(),i=o-n,c=t-i;c<=0?(n=o,e.apply(this,a)):r=setTimeout(()=>{n=Date.now(),e.apply(this,a)},c)}}var Oe=Ie;const se=$(Oe);var Me=new Promise(e=>{try{const t=new Uint8Array([104,101,108,108,111]);new Blob([t]).text().then(n=>{e(n==="hello")}).catch(()=>{e(!1)})}catch{e(!1)}});async function ie(e){if(e instanceof ReadableStream)return e;if(e instanceof Blob)return e.stream();if(le(e))return we.toWeb(e);let t;return e instanceof ArrayBuffer?t=new Uint8Array(e):qe(e)?t=e:t=$e(e),await Me?new Blob([t]).stream():new ReadableStream({start(r){r.enqueue(t),r.close()}})}function le(e){return typeof e=="object"&&typeof e.pipe=="function"&&e.readable&&typeof e._read=="function"&&typeof e._readableState=="object"}function $e(e){return new TextEncoder().encode(e)}function qe(e){return Te(e)}function Fe(e){if(e!=null&&e.token)return e.token;if({}.BLOB_READ_WRITE_TOKEN)return{}.BLOB_READ_WRITE_TOKEN;throw new g("No token found. Either configure the `BLOB_READ_WRITE_TOKEN` environment variable, or pass a `token` option to your calls.")}var g=class extends Error{constructor(e){super(`Vercel Blob: ${e}`)}};function Ve(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}var je=["#","?","//"],ce=(()=>{if(_e())return!0;let e=!1;const t=new Request(ue(),{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})();function ue(e=""){let t=null;try{t={}.VERCEL_BLOB_API_URL||{}.NEXT_PUBLIC_VERCEL_BLOB_API_URL}catch{}return`${t||"https://blob.vercel-storage.com"}${e}`}var W=typeof TextEncoder=="function"?new TextEncoder:null;function de(e){return e?typeof e=="string"?W?W.encode(e).byteLength:new Blob([e]).size:"byteLength"in e&&typeof e.byteLength=="number"?e.byteLength:"size"in e&&typeof e.size=="number"?e.size:0:0}var He=(e,t)=>{let r=new Uint8Array(0);return new TransformStream({transform(n,s){queueMicrotask(()=>{const a=new Uint8Array(r.length+n.byteLength);for(a.set(r),a.set(new Uint8Array(n),r.length),r=a;r.length>=e;){const o=r.slice(0,e);s.enqueue(o),t==null||t(o.byteLength),r=r.slice(e)}})},flush(n){queueMicrotask(()=>{r.length>0&&(n.enqueue(r),t==null||t(r.byteLength))})}})};function fe(e){return globalThis.ReadableStream&&e instanceof ReadableStream}function De(e){return!!(fe(e)||le(e))}var Xe=Object.prototype.toString,ze=e=>Xe.call(e)==="[object Error]",Ge=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function We(e){return e&&ze(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:Ge.has(e.message):!1}var pe=!1,J,Y;try{((J={}.DEBUG)!=null&&J.includes("blob")||(Y={}.NEXT_PUBLIC_DEBUG)!=null&&Y.includes("blob"))&&(pe=!0)}catch{}function v(e,...t){pe&&console.debug(`vercel-blob: ${e}`,...t)}var he=typeof ne=="function",Je=he&&ce,Ye=64*1024,K=async({input:e,init:t,onUploadProgress:r})=>{v("using fetch");let n;if(t.body)if(r){const a=await ie(t.body);let o=0;const i=He(Ye,c=>{o+=c,r(o)});n=a.pipeThrough(i)}else n=t.body;const s=ce&&n&&De(n)?"half":void 0;return ne(e,{...t,...t.body?{body:n}:{},duplex:s})},Z=typeof XMLHttpRequest<"u",Q=async({input:e,init:t,onUploadProgress:r})=>{v("using xhr");let n=null;return t.body&&(fe(t.body)?n=await new Response(t.body).blob():n=t.body),new Promise((s,a)=>{const o=new XMLHttpRequest;if(o.open(t.method||"GET",e.toString(),!0),r&&o.upload.addEventListener("progress",i=>{i.lengthComputable&&r(i.loaded)}),o.onload=()=>{var i;if((i=t.signal)!=null&&i.aborted){a(new DOMException("The user aborted the request.","AbortError"));return}const c=new Headers;o.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(m=>{const y=m.split(": "),h=y.shift(),d=y.join(": ");h&&c.set(h.toLowerCase(),d)});const l=new Response(o.response,{status:o.status,statusText:o.statusText,headers:c});s(l)},o.onerror=()=>{a(new TypeError("Network request failed"))},o.ontimeout=()=>{a(new TypeError("Network request timed out"))},o.onabort=()=>{a(new DOMException("The user aborted a request.","AbortError"))},t.headers&&new Headers(t.headers).forEach((c,u)=>{o.setRequestHeader(u,c)}),t.signal&&(t.signal.addEventListener("abort",()=>{o.abort()}),t.signal.aborted)){o.abort();return}o.send(n)})},Ke=async({input:e,init:t,onUploadProgress:r})=>{if(r){if(Je)return K({input:e,init:t,onUploadProgress:r});if(Z)return Q({input:e,init:t,onUploadProgress:r})}if(he)return K({input:e,init:t});if(Z)return Q({input:e,init:t});throw new Error("No request implementation available")},ee,Ze=(ee=globalThis.DOMException)!=null?ee:(()=>{try{atob("~")}catch(e){return Object.getPrototypeOf(e).constructor}})(),te=950,Qe=class extends g{constructor(){super("Access denied, please provide a valid token for this resource.")}},et=class extends g{constructor(e){super(`Content type mismatch, ${e}.`)}},tt=class extends g{constructor(e){super(`Pathname mismatch, ${e}. Check the pathname used in upload() or put() matches the one from the client token.`)}},rt=class extends g{constructor(){super("Client token has expired.")}},nt=class extends g{constructor(e){super(`File is too large, ${e}.`)}},ot=class extends g{constructor(){super("This store does not exist.")}},at=class extends g{constructor(){super("This store has been suspended.")}},me=class extends g{constructor(){super("Unknown error, please visit https://vercel.com/help.")}},st=class extends g{constructor(){super("The requested blob does not exist")}},F=class extends g{constructor(){super("The blob service is currently not available. Please try again.")}},it=class extends g{constructor(e){super(`Too many requests please lower the number of concurrent requests ${e?` - try again in ${e} seconds`:""}.`),this.retryAfter=e??0}},lt=class extends g{constructor(){super("The request was aborted.")}},ct=8;function ut(){let e=null;try{e={}.VERCEL_BLOB_API_VERSION_OVERRIDE||{}.NEXT_PUBLIC_VERCEL_BLOB_API_VERSION_OVERRIDE}catch{}return`${e??ct}`}function dt(){try{const e={}.VERCEL_BLOB_RETRIES||"10";return parseInt(e,10)}catch{return 10}}function ft(e){const t=e.headers.get("retry-after");return new it(t?parseInt(t,10):void 0)}async function pt(e){var t,r,n;let s,a;try{const i=await e.json();s=(r=(t=i.error)==null?void 0:t.code)!=null?r:"unknown_error",a=(n=i.error)==null?void 0:n.message}catch{s="unknown_error"}a!=null&&a.includes("contentType")&&a.includes("is not allowed")&&(s="content_type_not_allowed"),a!=null&&a.includes('"pathname"')&&a.includes("does not match the token payload")&&(s="client_token_pathname_mismatch"),a==="Token expired"&&(s="client_token_expired"),a!=null&&a.includes("the file length cannot be greater than")&&(s="file_too_large");let o;switch(s){case"store_suspended":o=new at;break;case"forbidden":o=new Qe;break;case"content_type_not_allowed":o=new et(a);break;case"client_token_pathname_mismatch":o=new tt(a);break;case"client_token_expired":o=new rt;break;case"file_too_large":o=new nt(a);break;case"not_found":o=new st;break;case"store_not_found":o=new ot;break;case"bad_request":o=new g(a??"Bad request");break;case"service_unavailable":o=new F;break;case"rate_limited":o=ft(e);break;case"unknown_error":case"not_allowed":default:o=new me;break}return{code:s,error:o}}async function V(e,t,r){const n=ut(),s=Fe(r),a=ht(),[,,,o=""]=s.split("_"),i=`${o}:${Date.now()}:${Math.random().toString(16).slice(2)}`;let c=0,u=0,l=0;const m=(r==null?void 0:r.onUploadProgress)||mt();t.body&&m&&(u=de(t.body)),r!=null&&r.onUploadProgress&&r.onUploadProgress({loaded:0,total:u,percentage:0});const y=await Se(async h=>{let d;try{d=await Ke({input:ue(e),init:{...t,headers:{"x-api-blob-request-id":i,"x-api-blob-request-attempt":String(c),"x-api-version":n,...m?{"x-content-length":String(u)}:{},authorization:`Bearer ${s}`,...a,...t.headers}},onUploadProgress:r!=null&&r.onUploadProgress?f=>{var w;const B=u!==0?u:f;l=f;const S=u>0?Number((f/B*100).toFixed(2)):0;S===100&&u>0||(w=r.onUploadProgress)==null||w.call(r,{loaded:f,total:B,percentage:S})}:void 0})}catch(f){if(f instanceof Ze&&f.name==="AbortError"){h(new lt);return}if(We(f))throw f;if(f instanceof TypeError){h(f);return}throw f}if(d.ok)return d;const{code:_,error:R}=await pt(d);if(_==="unknown_error"||_==="service_unavailable"||_==="internal_server_error")throw R;h(R)},{retries:dt(),onRetry:h=>{h instanceof Error&&v(`retrying API request to ${e}`,h.message),c=c+1}});if(!y)throw new me;return r!=null&&r.onUploadProgress&&r.onUploadProgress({loaded:l,total:l,percentage:100}),await y.json()}function ht(){const e={};try{"VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in process.env&&{}.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API!==void 0?e["x-proxy-through-alternative-api"]={}.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API:"NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in process.env&&{}.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API!==void 0&&(e["x-proxy-through-alternative-api"]={}.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API)}catch{}return e}function mt(){try{return{}.VERCEL_BLOB_USE_X_CONTENT_LENGTH==="1"}catch{return!1}}var D={cacheControlMaxAge:"x-cache-control-max-age",addRandomSuffix:"x-add-random-suffix",contentType:"x-content-type"};function bt(e,t){const r={};return e.includes("contentType")&&t.contentType&&(r[D.contentType]=t.contentType),e.includes("addRandomSuffix")&&t.addRandomSuffix!==void 0&&(r[D.addRandomSuffix]=t.addRandomSuffix?"1":"0"),e.includes("cacheControlMaxAge")&&t.cacheControlMaxAge!==void 0&&(r[D.cacheControlMaxAge]=t.cacheControlMaxAge.toString()),r}async function gt({pathname:e,options:t,extraChecks:r,getToken:n}){if(!e)throw new g("pathname is required");if(e.length>te)throw new g(`pathname is too long, maximum length is ${te}`);for(const s of je)if(e.includes(s))throw new g(`pathname cannot contain "${s}", please encode it if needed`);if(!t)throw new g("missing options, see usage");if(t.access!=="public")throw new g('access must be "public"');return r&&r(t),n&&(t.token=await n(e,t)),t}async function yt({uploadId:e,key:t,pathname:r,parts:n,headers:s,options:a}){try{const o=await V(`/mpu/${r}`,{method:"POST",headers:{...s,"content-type":"application/json","x-mpu-action":"complete","x-mpu-upload-id":e,"x-mpu-key":encodeURI(t)},body:JSON.stringify(n),signal:a.abortSignal},a);return v("mpu: complete",o),o}catch(o){throw o instanceof TypeError&&(o.message==="Failed to fetch"||o.message==="fetch failed")?new F:o}}async function vt(e,t,r){v("mpu: create","pathname:",e);try{const n=await V(`/mpu/${e}`,{method:"POST",headers:{...t,"x-mpu-action":"create"},signal:r.abortSignal},r);return v("mpu: create",n),n}catch(n){throw n instanceof TypeError&&(n.message==="Failed to fetch"||n.message==="fetch failed")?new F:n}}async function _t({uploadId:e,key:t,pathname:r,headers:n,options:s,internalAbortController:a=new AbortController,part:o}){var i,c,u;const l=V(`/mpu/${r}`,{signal:a.signal,method:"POST",headers:{...n,"x-mpu-action":"upload","x-mpu-key":encodeURI(t),"x-mpu-upload-id":e,"x-mpu-part-number":o.partNumber.toString()},body:o.blob},s);function m(){a.abort()}(i=s.abortSignal)!=null&&i.aborted?m():(c=s.abortSignal)==null||c.addEventListener("abort",m);const y=await l;return(u=s.abortSignal)==null||u.removeEventListener("abort",m),y}var be=typeof window<"u"?6:8,X=8*1024*1024,U=be*X*2;function wt({uploadId:e,key:t,pathname:r,stream:n,headers:s,options:a,totalToLoad:o}){v("mpu: upload init","key:",t);const i=new AbortController;return new Promise((c,u)=>{const l=[],m=[],y=n.getReader();let h=0,d=!1,_=1,R=!1,f=0,w=!1,B=0,S=[],C=0,j;const z={};a.onUploadProgress&&(j=se(()=>{var p;const P=Object.values(z).reduce((O,M)=>O+M,0),L=o||P,A=o>0?Number(((P/o||P)*100).toFixed(2)):0;(p=a.onUploadProgress)==null||p.call(a,{loaded:P,total:L,percentage:A})},150)),G().catch(I);async function G(){for(v("mpu: upload read start","activeUploads:",h,"currentBytesInMemory:",`${x(f)}/${x(U)}`,"bytesSent:",x(B)),d=!0;f<U&&!R;)try{const{value:p,done:P}=await y.read();if(P){w=!0,v("mpu: upload read consumed the whole stream"),S.length>0&&(l.push({partNumber:_++,blob:new Blob(S,{type:"application/octet-stream"})}),H()),d=!1;return}f+=p.byteLength;let L=0;for(;L<p.byteLength;){const A=X-C,O=Math.min(L+A,p.byteLength),M=p.slice(L,O);S.push(M),C+=M.byteLength,L=O,C===X&&(l.push({partNumber:_++,blob:new Blob(S,{type:"application/octet-stream"})}),S=[],C=0,H())}}catch(p){I(p)}v("mpu: upload read end","activeUploads:",h,"currentBytesInMemory:",`${x(f)}/${x(U)}`,"bytesSent:",x(B)),d=!1}async function ge(p){h++,v("mpu: upload send part start","partNumber:",p.partNumber,"size:",p.blob.size,"activeUploads:",h,"currentBytesInMemory:",`${x(f)}/${x(U)}`,"bytesSent:",x(B));try{const P=a.onUploadProgress?A=>{z[p.partNumber]=A.loaded,j&&j()}:void 0,L=await _t({uploadId:e,key:t,pathname:r,headers:s,options:{...a,onUploadProgress:P},internalAbortController:i,part:p});if(v("mpu: upload send part end","partNumber:",p.partNumber,"activeUploads",h,"currentBytesInMemory:",`${x(f)}/${x(U)}`,"bytesSent:",x(B)),R)return;if(m.push({partNumber:p.partNumber,etag:L.etag}),f-=p.blob.size,h--,B+=p.blob.size,l.length>0&&H(),w){h===0&&(y.releaseLock(),c(m));return}d||G().catch(I)}catch(P){I(P)}}function H(){if(!R)for(v("send parts","activeUploads",h,"partsToUpload",l.length);h<be&&l.length>0;){const p=l.shift();p&&ge(p)}}function I(p){R||(R=!0,i.abort(),y.releaseLock(),p instanceof TypeError&&(p.message==="Failed to fetch"||p.message==="fetch failed")?u(new F):u(p))}})}async function xt(e,t,r,n){v("mpu: init","pathname:",e,"headers:",r);const s={...n,onUploadProgress:void 0},a=await vt(e,r,s),o=de(t),i=await ie(t),c=await wt({uploadId:a.uploadId,key:a.key,pathname:e,stream:i,headers:r,options:n,totalToLoad:o});return await yt({uploadId:a.uploadId,key:a.key,pathname:e,parts:c,headers:r,options:s})}function Tt({allowedOptions:e,getToken:t,extraChecks:r}){return async function(s,a,o){if(!a)throw new g("body is required");if(Ve(a))throw new g("Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.");const i=await gt({pathname:s,options:o,extraChecks:r,getToken:t}),c=bt(e,i);if(i.multipart===!0)return xt(s,a,c,i);const u=i.onUploadProgress?se(i.onUploadProgress,100):void 0,l=await V(`/${s}`,{method:"PUT",body:a,headers:c,signal:i.abortSignal},{...i,onUploadProgress:u});return{url:l.url,downloadUrl:l.downloadUrl,pathname:l.pathname,contentType:l.contentType,contentDisposition:l.contentDisposition}}}var Et=Tt({allowedOptions:["cacheControlMaxAge","addRandomSuffix","contentType"]});const Rt=({onClose:e})=>{const[t,r]=N.useState(""),[n,s]=N.useState(""),[a,o]=N.useState(null),[i,c]=N.useState(""),[u,l]=N.useState(!1),m=async d=>{d.preventDefault(),l(!0);try{let _="";if(a){const w=await y(a),{url:B}=await Et(a.name,Buffer.from(w,"base64"),{access:"public"});_=B}(await fetch("https://ply-collab.vercel.app/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:n,image:_,link:i})})).ok?(alert("Project added successfully!"),h(),e()):alert("Failed to add project.")}catch(_){console.error("Error uploading project:",_),alert("An error occurred.")}finally{l(!1)}},y=d=>new Promise((_,R)=>{const f=new FileReader;f.readAsDataURL(d),f.onload=()=>{var w;return _(((w=f.result)==null?void 0:w.toString().split(",")[1])||"")},f.onerror=w=>R(w)}),h=()=>{r(""),s(""),o(null),c("")};return T("form",{onSubmit:m,className:"space-y-6 bg-dark-bg p-6 rounded-lg",children:[T("div",{children:[b("label",{htmlFor:"title",className:"block text-sm font-medium mb-2 text-text-primary",children:"Title"}),b("input",{type:"text",id:"title",value:t,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 rounded-md bg-dark-bg border border-gray-700 focus:outline-none focus:border-neon-green text-text-primary",required:!0})]}),T("div",{children:[b("label",{htmlFor:"description",className:"block text-sm font-medium mb-2 text-text-primary",children:"Description"}),b("textarea",{id:"description",value:n,onChange:d=>s(d.target.value),rows:4,className:"w-full px-4 py-2 rounded-md bg-dark-bg border border-gray-700 focus:outline-none focus:border-neon-green text-text-primary",required:!0})]}),T("div",{children:[b("label",{htmlFor:"image",className:"block text-sm font-medium mb-2 text-text-primary",children:"Upload Image"}),b("input",{type:"file",id:"image",onChange:d=>o(d.target.files?d.target.files[0]:null),className:"w-full px-4 py-2 rounded-md bg-dark-bg border border-gray-700 focus:outline-none focus:border-neon-green text-text-primary",required:!0})]}),T("div",{children:[b("label",{htmlFor:"link",className:"block text-sm font-medium mb-2 text-text-primary",children:"Project Link"}),b("input",{type:"text",id:"link",value:i,onChange:d=>c(d.target.value),className:"w-full px-4 py-2 rounded-md bg-dark-bg border border-gray-700 focus:outline-none focus:border-neon-green text-text-primary",required:!0})]}),b("button",{type:"submit",className:"w-full bg-neon-green text-dark-bg px-6 py-3 rounded-md hover:bg-neon-green/90 transition-colors",disabled:u,children:u?"Uploading...":"Add Project"}),b("button",{type:"button",onClick:e,className:"w-full bg-gray-500 text-white px-6 py-3 rounded-md hover:bg-gray-600 transition-colors",children:"Cancel"})]})},Pt=()=>{const[e,t]=N.useState(!1);return T(ye,{children:[b(ve,{}),b("button",{onClick:()=>t(!0),className:"fixed bottom-10 right-10 bg-neon-green text-dark-bg p-4 rounded-full shadow-lg hover:bg-neon-green/90 transition-colors",children:"Add Project"}),e&&b("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T("div",{className:"bg-card-bg p-6 rounded-lg shadow-lg w-full max-w-md",children:[b("h2",{className:"text-2xl font-bold mb-4 text-text-primary",children:"Add a Project"}),b(Rt,{onClose:()=>t(!1)})]})})]})};export{Pt as default};
